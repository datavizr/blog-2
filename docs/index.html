<!DOCTYPE html>

<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <!-- <script src="https://cdn.jsdelivr.net/npm/vega"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script> -->

  <script src="https://cdn.jsdelivr.net/npm/d3@6"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega@5.19.1/build/vega.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.0.0/build/vega-lite.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.15.1/build/vega-embed.js"></script>

<!-- BEGIN: NAV BAR SECTION -->
<nav class="topnav-inline">
  <a href="index.html" class="active">Site 3</a>
  <a href="news.html">News</a>
  <div class="nav-menu-div" onclick="navMenuClick('menu1')" onmouseleave="navMenuClose('menu1')">
    <button class="nav-menu-button">Menu 1 &#9662;</button>
    <div class="nav-menu-content" id="menu1">
      <a href="#">Link 1</a>
      <a href="#">Link 2</a>
      <a href="#">Link 3</a>
    </div>
  </div> 
  <a href="news.html">News</a>
  <div class="nav-menu-div" onclick="navMenuClick('menu2')" onmouseleave="navMenuClose('menu2')">
    <button class="nav-menu-button">Menu 2 &#9662;</button>
    <div class="nav-menu-content" id="menu2">
      <a href="#">Link 1</a>
      <a href="#">Link 2</a>
      <a href="#">Link 3</a>
    </div>
  </div> 
  <a href="contact.html">Contact</a>
  <a href="#about">About</a>
  <button class="nav-hamburger-button" onclick="navHamburgerClick()">&#9776;</a>
</nav>

<header><a href=#>Home</a> > <a href=#>About</a></header>

<div style="padding-left:16px">
  <h2>Tidal data plotted using Vega</h2>
  <p>Data source: https://tidesandcurrents.noaa.gov</p>
</div>

<div id="vis"></div>

<script type="text/javascript">
  var spec = {
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "description": "A basic bar chart example, with value labels shown upon mouse hover.",
    "width": 400,
    "height": 200,
    "padding": 5,
    "width": 800,
    "height": 500,
    "data": {
      // "url": "tide_data.json",
      "url": "https://api.tidesandcurrents.noaa.gov/api/prod/datagetter?begin_date=20210205%2010:00&end_date=20210301%2010:24&station=8454000&product=water_level&datum=mllw&units=metric&time_zone=gmt&application=web_services&format=json",
      "format": {
        "type": "json", 
        "property": "data",
        "parse": {"t": "utc:'%Y-%m-%d %H:%M'"}
      }
    },
    "mark": "line",
    "encoding": {
      "x": {"field": "t", "type": "temporal",  "axis": {"labelAngle": 0}},
      "y": {"field": "v", "type": "quantitative"}
    }
  };

  vegaEmbed('#vis', spec).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);
</script>

<script src="style.js"></script>

</body>
</html>


